import{S as ae,r as o,aP as p,j as e}from"./vendor-react-1772254949528.js";import{a as b}from"./index-1772254949528.js";import{s as x}from"./safeArray-1772254949528.js";const le=()=>{var I;const f=ae(),[h,C]=o.useState([]),[M,k]=o.useState(!0),[t,g]=o.useState({status:"todos",cliente_id:null,data_inicio:"",data_fim:"",apenas_vencidas:!1,apenas_vencer:!1}),[u,O]=o.useState(""),[S,B]=o.useState("desc"),[L,$]=o.useState([]),[d,D]=o.useState(null),[r,T]=o.useState(null),[A,N]=o.useState(!1),[z,F]=o.useState(!1),[U,P]=o.useState([]),[q,J]=o.useState([]),[l,m]=o.useState({valor_recebido:0,data_recebimento:new Date().toISOString().split("T")[0],forma_pagamento_id:null,conta_bancaria_id:null,valor_juros:0,valor_multa:0,valor_desconto:0,observacoes:""});o.useEffect(()=>{R()},[]);const X=async a=>{var c;const n=((c=(await b.get("/comissoes/formas-pagamento",{headers:a})).data)==null?void 0:c.formas)||[];return x(n).map(j=>{var v,w;return{id:j.id,nome:j.nome,tipo:((w=(v=j.nome)==null?void 0:v.toLowerCase())==null?void 0:w.replace(/\s+/g,"_"))||"outro",icone:"ðŸ’³",conta_bancaria_destino_id:null}})};o.useEffect(()=>{if(u.trim().length>0){const a=setTimeout(()=>{V()},500);return()=>clearTimeout(a)}else u===""&&R()},[u]);const R=async()=>{try{const s={Authorization:`Bearer ${localStorage.getItem("access_token")||localStorage.getItem("token")}`},[n,c,j,v]=await Promise.allSettled([b.get("/contas-receber/",{headers:s}),b.get("/clientes/",{headers:s}),X(s),b.get("/contas-bancarias?apenas_ativas=true",{headers:s})]);if(n.status!=="fulfilled")throw n.reason;if(c.status!=="fulfilled")throw c.reason;if(v.status!=="fulfilled")throw v.reason;const w=[...x(n.value.data)].sort((Z,ee)=>ee.id-Z.id);C(w),$(x(c.value.data)),j.status==="fulfilled"?P(x(j.value)):(P([]),console.warn("Nao foi possivel carregar formas de pagamento. Usando lista vazia.")),J(x(v.value.data))}catch(a){console.error("Erro ao carregar dados:",a),p.error("Erro ao carregar contas a receber")}finally{k(!1)}},V=async()=>{try{k(!0);const a=new URLSearchParams;t.status!=="todos"&&a.append("status",t.status),t.cliente_id&&a.append("cliente_id",t.cliente_id),t.data_inicio&&a.append("data_inicio",t.data_inicio),t.data_fim&&a.append("data_fim",t.data_fim),t.apenas_vencidas&&a.append("apenas_vencidas","true"),t.apenas_vencer&&a.append("apenas_vencer","true"),u&&a.append("numero_venda",u);const s=await b.get(`/contas-receber/?${a}`);C(s.data)}catch(a){console.error("Erro ao filtrar:",a),p.error("Erro ao aplicar filtros")}finally{k(!1)}},H=a=>{sessionStorage.setItem("abrirVenda",a),sessionStorage.setItem("abrirModalPagamento","true"),p.success("Redirecionando para o PDV..."),f("/pdv")},E=a=>{const s=new URLSearchParams;a.cliente_nome&&s.append("busca",a.cliente_nome),a.documento&&s.append("documento",a.documento),f(`/financeiro/fluxo-caixa?${s.toString()}`),p.success("Redirecionando para o Fluxo de Caixa...")},K=()=>{const a=S==="desc"?"asc":"desc";B(a);const s=[...h].sort((n,c)=>a==="desc"?c.id-n.id:n.id-c.id);C(s),p.success(a==="desc"?"Ordenado: mais recentes primeiro":"Ordenado: mais antigas primeiro")},y=a=>{D(a),m({valor_recebido:parseFloat((a.valor_final-a.valor_recebido).toFixed(2)),data_recebimento:new Date().toISOString().split("T")[0],forma_pagamento_id:a.forma_pagamento_id||null,conta_bancaria_id:null,valor_juros:0,valor_multa:0,valor_desconto:0,observacoes:""}),N(!0)},G=async a=>{try{const s=await b.get(`/contas-receber/${a.id}`);D(a),T(s.data),F(!0)}catch(s){console.error("Erro ao carregar detalhes:",s),p.error("Erro ao carregar detalhes da conta")}},Q=a=>{f(`/pdv?venda=${a}`)},W=async()=>{var a,s;try{await b.post(`/contas-receber/${d.id}/receber`,l),p.success("Recebimento registrado com sucesso!"),N(!1),R()}catch(n){console.error("Erro ao registrar recebimento:",n),p.error(((s=(a=n.response)==null?void 0:a.data)==null?void 0:s.detail)||"Erro ao registrar recebimento")}},_=a=>{if(!a)return"-";const s=a.split("T")[0].split("-");return new Date(parseInt(s[0]),parseInt(s[1])-1,parseInt(s[2])).toLocaleDateString("pt-BR")},i=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),Y=a=>{const s=new Date,n=new Date(a.data_vencimento);return a.status==="recebido"?e.jsx("span",{className:"px-2 py-1 text-xs rounded bg-green-100 text-green-800",children:"Recebido"}):n<s?e.jsx("span",{className:"px-2 py-1 text-xs rounded bg-red-100 text-red-800",children:"Vencida"}):a.status==="parcial"?e.jsx("span",{className:"px-2 py-1 text-xs rounded bg-yellow-100 text-yellow-800",children:"Parcial"}):e.jsx("span",{className:"px-2 py-1 text-xs rounded bg-blue-100 text-blue-800",children:"Pendente"})};return M?e.jsx("div",{className:"text-center p-8",children:"Carregando contas a receber..."}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Contas a Receber"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:K,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",title:S==="desc"?"Clique para ver mais antigas primeiro":"Clique para ver mais recentes primeiro",children:S==="desc"?"Mais recentes":"Mais antigas"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:"Nova Conta"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[e.jsx("h5",{className:"text-lg font-semibold mb-4",children:"Filtros"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Buscar por Numero da Venda"}),e.jsx("input",{type:"text",placeholder:"Digite o numero da venda (ex: 202601100003) e pressione Enter",className:"w-full border border-gray-300 rounded px-3 py-2",value:u,onChange:a=>{const s=a.target.value.replace("#","");O(s)},onKeyPress:a=>{a.key==="Enter"&&V()}})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2",value:t.status,onChange:a=>g({...t,status:a.target.value}),children:[e.jsx("option",{value:"todos",children:"Todos"}),e.jsx("option",{value:"pendente",children:"Pendente"}),e.jsx("option",{value:"parcial",children:"Parcial"}),e.jsx("option",{value:"recebido",children:"Recebido"}),e.jsx("option",{value:"vencido",children:"Vencido"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2",value:t.cliente_id||"",onChange:a=>g({...t,cliente_id:a.target.value||null}),children:[e.jsx("option",{value:"",children:"Todos"}),x(L).map(a=>e.jsx("option",{value:a.id,children:a.nome},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Inicio"}),e.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2",value:t.data_inicio,onChange:a=>g({...t,data_inicio:a.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Fim"}),e.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2",value:t.data_fim,onChange:a=>g({...t,data_fim:a.target.value})})]}),e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:t.apenas_vencidas,onChange:a=>g({...t,apenas_vencidas:a.target.checked,apenas_vencer:!1})}),e.jsx("span",{className:"text-sm",children:"So Vencidas"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:t.apenas_vencer,onChange:a=>g({...t,apenas_vencer:a.target.checked,apenas_vencidas:!1})}),e.jsx("span",{className:"text-sm",children:"A Vencer"})]}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm",onClick:V,children:"Filtrar"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Descricao"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Cliente"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Vencimento"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Valor Original"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Valor Recebido"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Saldo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase",children:"Acoes"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:x(h).length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-4 py-8 text-center text-gray-500",children:"Nenhuma conta encontrada"})}):x(h).filter(a=>{if(!u)return!0;const s=String(a.numero_venda||""),n=String(a.descricao||""),c=u.toLowerCase();return s.toLowerCase().includes(c)||n.toLowerCase().includes(c)}).map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm",children:a.id}),e.jsxs("td",{className:"px-4 py-3 text-sm",children:[a.descricao,a.eh_parcelado&&e.jsxs("span",{className:"ml-2 px-2 py-1 text-xs rounded bg-gray-100 text-gray-700",children:[a.numero_parcela,"/",a.total_parcelas]})]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:a.cliente_nome||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:_(a.data_vencimento)}),e.jsx("td",{className:"px-4 py-3 text-sm",children:i(a.valor_original)}),e.jsx("td",{className:"px-4 py-3 text-sm",children:i(a.valor_recebido)}),e.jsx("td",{className:"px-4 py-3 text-sm font-bold",children:i(a.valor_final-a.valor_recebido)}),e.jsx("td",{className:"px-4 py-3 text-sm",children:Y(a)}),e.jsxs("td",{className:"px-4 py-3 text-sm",children:[a.status!=="recebido"&&e.jsx(e.Fragment,{children:a.nsu&&!a.conciliado?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded text-xs mr-2",onClick:()=>f(`/conciliacao-cartao?nsu=${a.nsu}`),title:`Conciliar NSU ${a.nsu} com extrato da operadora`,children:"Conciliar"}),e.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded text-xs mr-2",onClick:()=>y(a),title:"Receber manual (caso nao consiga conciliar)",children:"Manual"})]}):a.venda_id&&!a.nsu?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs mr-2",onClick:()=>{console.log("Conta:",a),a.venda_id?H(a.venda_id):y(a)},title:"Receber no PDV (movimenta caixa)",children:"PDV"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs mr-2",onClick:()=>y(a),title:"Receber manual (sem PDV)",children:"Manual"})]}):e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs mr-2",onClick:()=>y(a),title:"Registrar recebimento manual",children:"Receber Manual"})}),a.conciliado&&e.jsx("span",{className:"text-xs text-green-600 font-semibold mr-2",title:`Conciliado em ${a.data_conciliacao}`,children:"Conciliado"}),e.jsx("button",{className:"bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-1 rounded text-xs",title:"Ver Detalhes",onClick:()=>G(a),children:"Ver"})]})]},a.id))})]})}),h.length>0&&e.jsxs("div",{className:"bg-green-50 border-t border-green-200 px-4 py-3",children:[e.jsx("strong",{children:"Total:"})," ",h.length," conta(s) |",e.jsx("strong",{className:"ml-3",children:"Saldo a Receber:"})," ",i(h.reduce((a,s)=>a+(s.valor_final-s.valor_recebido),0))]})]}),A&&d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center border-b p-4",children:[e.jsx("h5",{className:"text-xl font-bold",children:"Registrar Recebimento"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700 text-2xl",onClick:()=>N(!1),children:"X"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mb-4 text-sm",children:[e.jsx("strong",{children:"Conta:"})," ",d.descricao,e.jsx("br",{}),e.jsx("strong",{children:"Valor Total:"})," ",i(d.valor_final),e.jsx("br",{}),e.jsx("strong",{children:"Ja Recebido:"})," ",i(d.valor_recebido),e.jsx("br",{}),e.jsx("strong",{children:"Saldo Restante:"})," ",i(d.valor_final-d.valor_recebido)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valor a Receber *"}),e.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded px-3 py-2",step:"0.01",value:l.valor_recebido,onChange:a=>m({...l,valor_recebido:parseFloat(a.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data do Recebimento *"}),e.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2",value:l.data_recebimento,onChange:a=>m({...l,data_recebimento:a.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2",value:l.forma_pagamento_id||"",onChange:a=>m({...l,forma_pagamento_id:parseInt(a.target.value)||null}),children:[e.jsx("option",{value:"",children:"Selecione..."}),x(U).map(a=>e.jsx("option",{value:a.id,children:a.nome},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conta Bancaria *"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2",value:l.conta_bancaria_id||"",onChange:a=>m({...l,conta_bancaria_id:parseInt(a.target.value)||null}),children:[e.jsx("option",{value:"",children:"Selecione a conta..."}),x(q).map(a=>e.jsxs("option",{value:a.id,children:[a.nome," - ",i(a.saldo_atual||0)]},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Juros"}),e.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded px-3 py-2",step:"0.01",value:l.valor_juros,onChange:a=>m({...l,valor_juros:parseFloat(a.target.value)||0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Multa"}),e.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded px-3 py-2",step:"0.01",value:l.valor_multa,onChange:a=>m({...l,valor_multa:parseFloat(a.target.value)||0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Desconto"}),e.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded px-3 py-2",step:"0.01",value:l.valor_desconto,onChange:a=>m({...l,valor_desconto:parseFloat(a.target.value)||0})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observacoes"}),e.jsx("textarea",{className:"w-full border border-gray-300 rounded px-3 py-2",rows:"3",value:l.observacoes,onChange:a=>m({...l,observacoes:a.target.value})})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded p-3 mt-4",children:[e.jsx("strong",{children:"Valor Final do Recebimento:"})," ",i((l.valor_recebido||0)+(l.valor_juros||0)+(l.valor_multa||0)-(l.valor_desconto||0))]})]}),e.jsxs("div",{className:"flex justify-end gap-3 border-t p-4",children:[e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",onClick:()=>N(!1),children:"Cancelar"}),e.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",onClick:W,children:"Confirmar Recebimento"})]})]})}),z&&d&&r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-blue-600 text-white px-6 py-4 flex justify-between items-center sticky top-0",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Detalhes da Conta"}),e.jsx("button",{onClick:()=>F(!1),className:"text-white hover:bg-blue-700 px-3 py-1 rounded",children:"X"})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Numero da Conta"}),e.jsx("p",{className:"mt-1 text-lg",children:d.numero_documento||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cliente"}),e.jsx("p",{className:"mt-1 text-lg",children:((I=r.cliente)==null?void 0:I.nome)||"N/A"})]})]}),r.venda&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pedido/Venda"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>Q(r.venda.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg border border-blue-200 transition-colors",children:[e.jsx("span",{className:"text-xl",children:"Venda"}),e.jsx("span",{className:"font-semibold",children:r.venda.numero_venda})]}),e.jsxs("button",{onClick:()=>E(d),className:"flex items-center gap-2 px-4 py-2 bg-green-50 hover:bg-green-100 text-green-700 rounded-lg border border-green-200 transition-colors",title:"Ver no Fluxo de Caixa",children:[e.jsx("span",{className:"text-xl",children:"Fluxo"}),e.jsx("span",{className:"text-sm",children:"Fluxo"})]})]})]}),!r.venda&&e.jsx("div",{children:e.jsxs("button",{onClick:()=>E(d),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-50 hover:bg-green-100 text-green-700 rounded-lg border border-green-200 transition-colors",children:[e.jsx("span",{className:"text-xl",children:"Fluxo"}),e.jsx("span",{className:"font-medium",children:"Ver no Fluxo de Caixa"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data de Emissao"}),e.jsx("p",{className:"mt-1",children:_(r.datas.emissao)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data de Vencimento"}),e.jsx("p",{className:"mt-1",children:_(r.datas.vencimento)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valor Original"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-blue-600",children:i(r.valores.final)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valor Recebido"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-green-600",children:i(r.valores.recebido)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Saldo Restante"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-red-600",children:i(r.valores.saldo)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:`px-2 py-1 rounded text-sm ${r.status==="recebido"?"bg-green-100 text-green-800":r.status==="parcial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.status==="recebido"?"Recebido":r.status==="parcial"?"Parcial":"Pendente"})})]})]}),r.recebimentos&&r.recebimentos.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Historico de Recebimentos"}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Data"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Valor"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:"Conta Bancaria"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:x(r==null?void 0:r.recebimentos).map((a,s)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 text-sm",children:_(a.data)}),e.jsx("td",{className:"px-3 py-2 text-sm font-semibold text-green-600",children:i(a.valor)}),e.jsx("td",{className:"px-3 py-2 text-sm",children:a.conta_bancaria_nome?e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:a.conta_bancaria_nome}):e.jsx("span",{className:"text-gray-400 text-xs",children:"Nao informada"})})]},s))})]})})]}),r.observacoes&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Observacoes"}),e.jsx("p",{className:"mt-1 text-gray-600",children:r.observacoes})]})]})]})})]})};export{le as default};
