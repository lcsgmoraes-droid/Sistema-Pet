import{S as Z,r as l,j as e}from"./vendor-react-1772205603228.js";import{a as z}from"./index-1772205603228.js";import{R as m,B as C,C as j,X as b,Y as N,T as h,a as y,c as v,P as ee,e as se,d as te,L as ae,b as R}from"./vendor-charts-1772205603228.js";const le=()=>{const A=Z(),[i,q]=l.useState("margem-produto"),[E,f]=l.useState(!1),[p,P]=l.useState(""),[g,M]=l.useState(""),[o,S]=l.useState(null),[x,B]=l.useState(null),[w,T]=l.useState(null),[_,L]=l.useState(null),[u,F]=l.useState(null),[n,V]=l.useState(null),k=async s=>{f(!0);try{const t={};p&&(t.data_inicio=p),g&&(t.data_fim=g);let d="",r=null;switch(s){case"margem-produto":d="/relatorios-comissoes/margem-produto",r=S;break;case"produtos-prejudiciais":d="/relatorios-comissoes/produtos-prejudiciais",r=B;break;case"ranking-funcionarios":d="/relatorios-comissoes/ranking-funcionarios",r=T;break;case"ranking-produtos":d="/relatorios-comissoes/ranking-produtos",r=L;break;case"ranking-categorias":d="/relatorios-comissoes/ranking-categorias",r=F;break;case"dre":d="/relatorios-comissoes/visao-dre",t.ano=2026,r=V;break;default:f(!1);return}const J=await z.get(d,{params:t,timeout:1e4});r(J.data)}catch(t){console.error(`Erro ao carregar relat√≥rio ${s}:`,t),t.code==="ECONNABORTED"||t.message.includes("timeout")?alert("‚è±Ô∏è Tempo de resposta excedido. Verifique se o backend est√° rodando."):alert("‚ùå Erro ao carregar relat√≥rio. Verifique o console para detalhes.")}finally{f(!1)}};l.useEffect(()=>{k(i)},[i]);const K=()=>{k(i)},a=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),c=s=>`${s.toFixed(2)}%`,$=async()=>{try{const s={tipo:i,data_inicio:p,data_fim:g},t=await z.get("/relatorios-comissoes/exportar-csv",{params:s,responseType:"blob"}),d=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=d,r.setAttribute("download",`relatorio_${i}_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(r),r.click(),r.remove()}catch(s){console.error("Erro ao exportar CSV:",s),alert("Erro ao exportar arquivo")}},D=["#8884d8","#82ca9d","#ffc658","#ff7c7c","#a28bd4","#f48fb1"],I=s=>s===3?"text-red-700 bg-red-100 border-red-300":s===2?"text-orange-700 bg-orange-100 border-orange-300":"text-yellow-700 bg-yellow-100 border-yellow-300",O=()=>{const s=[{id:"margem-produto",label:"üìä Margem por Produto",icone:"üí∞"},{id:"produtos-prejudiciais",label:"‚ö†Ô∏è Produtos Prejudiciais",icone:"üö®"},{id:"ranking-funcionarios",label:"üë• Ranking Funcion√°rios",icone:"üèÜ"},{id:"ranking-produtos",label:"üì¶ Ranking Produtos",icone:"üìà"},{id:"ranking-categorias",label:"üìÇ Ranking Categorias",icone:"üéØ"},{id:"dre",label:"üìë Vis√£o DRE",icone:"üíº"}];return e.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:s.map(t=>e.jsxs("button",{onClick:()=>q(t.id),className:`px-4 py-3 rounded-lg font-medium whitespace-nowrap transition-all ${i===t.id?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{className:"text-xl mr-2",children:t.icone}),t.label]},t.id))})},H=()=>e.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"üìÖ Data In√≠cio"}),e.jsx("input",{type:"date",value:p,onChange:s=>P(s.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"üìÖ Data Fim"}),e.jsx("input",{type:"date",value:g,onChange:s=>M(s.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:K,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition mt-6",children:"üîç Buscar"}),e.jsx("button",{onClick:()=>{P(""),M(""),k(i)},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition mt-6",children:"üîÑ Limpar"}),["margem-produto","produtos-prejudiciais","ranking-funcionarios","ranking-produtos"].includes(i)&&e.jsx("button",{onClick:$,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition mt-6",children:"üì• Exportar CSV"})]})]})}),W=()=>{if(!o)return e.jsx("div",{className:"text-center py-12",children:"Carregando..."});const s=o.dados.slice(0,10);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total de Produtos"}),e.jsx("div",{className:"text-3xl font-bold text-blue-800",children:o.total_produtos})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-red-600 font-medium",children:"Produtos com Margem Negativa"}),e.jsx("div",{className:"text-3xl font-bold text-red-800",children:o.produtos_com_alerta})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Produtos Saud√°veis"}),e.jsx("div",{className:"text-3xl font-bold text-green-800",children:o.total_produtos-o.produtos_com_alerta})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Top 10 Produtos por Margem L√≠quida"}),e.jsx(m,{width:"100%",height:400,children:e.jsxs(C,{data:s,children:[e.jsx(j,{strokeDasharray:"3 3"}),e.jsx(b,{dataKey:"produto_nome",angle:-45,textAnchor:"end",height:100}),e.jsx(N,{}),e.jsx(h,{formatter:t=>a(t)}),e.jsx(y,{}),e.jsx(v,{dataKey:"margem_liquida",fill:"#82ca9d",name:"Margem L√≠quida"}),e.jsx(v,{dataKey:"valor_comissao",fill:"#ff7c7c",name:"Comiss√£o"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Categoria"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Venda"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Custo"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Comiss√£o"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Margem L√≠quida"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"% Margem"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.dados.map((t,d)=>e.jsxs("tr",{className:t.alerta_margem_negativa?"bg-red-50":"",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.produto_nome}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:t.categoria_nome}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900",children:a(t.valor_venda)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-600",children:a(t.valor_custo)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-orange-600 font-medium",children:a(t.valor_comissao)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold",children:e.jsx("span",{className:t.margem_liquida<0?"text-red-600":"text-green-600",children:a(t.margem_liquida)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:c(t.percentual_margem)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:t.alerta_margem_negativa?e.jsx("span",{className:"px-2 py-1 text-xs font-bold text-red-700 bg-red-100 rounded",children:"‚ö†Ô∏è NEGATIVA"}):e.jsx("span",{className:"px-2 py-1 text-xs font-bold text-green-700 bg-green-100 rounded",children:"‚úÖ OK"})})]},d))})]})})})]})},Q=()=>x?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{className:"font-semibold",children:"Relat√≥rio informativo"})," baseado em vendas j√° realizadas. Os dados n√£o alteram comiss√µes, pre√ßos ou hist√≥ricos e n√£o devem ser usados para ajustes retroativos."]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Produtos Analisados"}),e.jsx("div",{className:"text-3xl font-bold text-blue-800",children:x.total_produtos_analisados})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-red-600 font-medium",children:"Cr√≠ticos"}),e.jsx("div",{className:"text-3xl font-bold text-red-800",children:x.produtos_criticos})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Total Prejudiciais"}),e.jsx("div",{className:"text-3xl font-bold text-orange-800",children:x.total_produtos_prejudiciais})]})]}),e.jsx("div",{className:"space-y-4",children:x.dados.map((s,t)=>e.jsxs("div",{className:`border-2 rounded-lg p-6 ${I(s.nivel_gravidade)}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold",children:[s.nivel_gravidade===3&&"üö®",s.nivel_gravidade===2&&"‚ö†Ô∏è",s.nivel_gravidade===1&&"‚ö°"," ",s.produto_nome]}),e.jsx("p",{className:"text-sm opacity-75",children:s.categoria_nome})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:"Impacto Financeiro"}),e.jsx("div",{className:"text-2xl font-bold",children:a(s.impacto_financeiro)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium opacity-75",children:"Margem L√≠quida"}),e.jsx("div",{className:"text-lg font-bold",children:a(s.margem_liquida)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium opacity-75",children:"% Margem"}),e.jsx("div",{className:"text-lg font-bold",children:c(s.percentual_margem)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium opacity-75",children:"Comiss√£o"}),e.jsx("div",{className:"text-lg font-bold",children:a(s.valor_comissao)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium opacity-75",children:"% Comiss√£o"}),e.jsx("div",{className:"text-lg font-bold",children:c(s.percentual_comissao)})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold mb-2",children:"‚ö†Ô∏è Alertas:"}),e.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:s.alertas.map((d,r)=>e.jsx("li",{children:d},r))})]})]},t))})]}):e.jsx("div",{className:"text-center py-12",children:"Carregando..."}),G=()=>w?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{className:"font-semibold",children:"Relat√≥rio informativo"})," baseado em volume hist√≥rico. N√£o representa meta, desempenho ou pol√≠tica de incentivo."]})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Funcion√°rios por Volume de Comiss√µes (10 maiores)"}),e.jsx(m,{width:"100%",height:400,children:e.jsxs(C,{data:w.ranking,children:[e.jsx(j,{strokeDasharray:"3 3"}),e.jsx(b,{dataKey:"funcionario_nome",angle:-45,textAnchor:"end",height:100}),e.jsx(N,{}),e.jsx(h,{formatter:s=>a(s)}),e.jsx(y,{}),e.jsx(v,{dataKey:"total_comissao",fill:"#8884d8",name:"Total de Comiss√µes"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Posi√ß√£o"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Funcion√°rio"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Comiss√µes"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Quantidade"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"M√©dia"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.ranking.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("span",{className:"text-lg font-semibold text-gray-700",children:[s.posicao,"¬∫"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.funcionario_nome}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-green-600",children:a(s.total_comissao)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-600",children:s.quantidade_comissoes}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-600",children:a(s.media_comissao)})]},s.posicao))})]})})]}):e.jsx("div",{className:"text-center py-12",children:"Carregando..."}),U=()=>_?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{className:"font-semibold",children:"Relat√≥rio informativo"})," baseado em volume hist√≥rico. N√£o representa meta, desempenho ou pol√≠tica de incentivo."]})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Produtos por Volume de Comiss√µes (10 maiores)"}),e.jsx(m,{width:"100%",height:400,children:e.jsxs(C,{data:_.ranking,children:[e.jsx(j,{strokeDasharray:"3 3"}),e.jsx(b,{dataKey:"produto_nome",angle:-45,textAnchor:"end",height:100}),e.jsx(N,{}),e.jsx(h,{formatter:s=>a(s)}),e.jsx(y,{}),e.jsx(v,{dataKey:"total_comissao",fill:"#82ca9d",name:"Total de Comiss√µes"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Posi√ß√£o"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Produto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Categoria"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Comiss√£o"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Qtd Vendas"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Venda"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.ranking.map(s=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center text-lg font-bold text-gray-700",children:[s.posicao,"¬∫"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.produto_nome}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:s.categoria_nome}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-green-600",children:a(s.total_comissao)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-600",children:s.quantidade_vendas}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900",children:a(s.total_venda)})]},s.posicao))})]})})]}):e.jsx("div",{className:"text-center py-12",children:"Carregando..."}),X=()=>u?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{className:"font-semibold",children:"Relat√≥rio informativo"})," baseado em volume hist√≥rico. N√£o representa meta, desempenho ou pol√≠tica de incentivo."]})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Distribui√ß√£o de Comiss√µes por Categoria"}),e.jsx(m,{width:"100%",height:400,children:e.jsxs(ee,{children:[e.jsx(se,{data:u.ranking,dataKey:"total_comissao",nameKey:"categoria_nome",cx:"50%",cy:"50%",outerRadius:120,label:s=>`${s.categoria_nome}: ${s.percentual_total}%`,children:u.ranking.map((s,t)=>e.jsx(te,{fill:D[t%D.length]},`cell-${t}`))}),e.jsx(h,{formatter:s=>a(s)})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Posi√ß√£o"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Categoria"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Comiss√£o"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"% do Total"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Qtd Comiss√µes"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Vendas"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.ranking.map(s=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center text-lg font-bold text-gray-700",children:[s.posicao,"¬∫"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.categoria_nome}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-green-600",children:a(s.total_comissao)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-blue-600 font-medium",children:c(s.percentual_total)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-600",children:s.quantidade_comissoes}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900",children:a(s.total_venda)})]},s.posicao))})]})})]}):e.jsx("div",{className:"text-center py-12",children:"Carregando..."}),Y=()=>n?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{className:"font-semibold",children:"Regime de compet√™ncia:"})," as comiss√µes s√£o reconhecidas como despesa na data da venda, independentemente do pagamento. Inclui comiss√µes pendentes e pagas."]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Receita Bruta (Ano)"}),e.jsx("div",{className:"text-2xl font-bold text-blue-800",children:a(n.total_ano.receita_bruta)})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Despesa Comiss√£o (Ano)"}),e.jsx("div",{className:"text-2xl font-bold text-orange-800",children:a(n.total_ano.despesa_comissao)})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Margem L√≠quida (Ano)"}),e.jsx("div",{className:"text-2xl font-bold text-green-800",children:a(n.total_ano.margem_liquida)})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"% Comiss√£o sobre Receita"}),e.jsx("div",{className:"text-2xl font-bold text-purple-800",children:c(n.total_ano.percentual_comissao)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Evolu√ß√£o Mensal - DRE"}),e.jsx(m,{width:"100%",height:400,children:e.jsxs(ae,{data:n.dados_mensais,children:[e.jsx(j,{strokeDasharray:"3 3"}),e.jsx(b,{dataKey:"mes_nome"}),e.jsx(N,{}),e.jsx(h,{formatter:s=>a(s)}),e.jsx(y,{}),e.jsx(R,{type:"monotone",dataKey:"receita_bruta",stroke:"#8884d8",name:"Receita Bruta",strokeWidth:2}),e.jsx(R,{type:"monotone",dataKey:"despesa_comissao",stroke:"#ff7c7c",name:"Despesa Comiss√£o",strokeWidth:2}),e.jsx(R,{type:"monotone",dataKey:"margem_liquida",stroke:"#82ca9d",name:"Margem L√≠quida",strokeWidth:2})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"M√™s"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita Bruta"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Custo"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Comiss√£o"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Margem Bruta"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Margem L√≠quida"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"% Comiss√£o"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.dados_mensais.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.mes_nome}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-blue-600 font-medium",children:a(s.receita_bruta)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-600",children:a(s.custo_total)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-orange-600 font-medium",children:a(s.despesa_comissao)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-700",children:a(s.margem_bruta)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-green-600",children:a(s.margem_liquida)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-purple-600",children:c(s.percentual_comissao_sobre_receita)})]},s.mes))})]})})]}):e.jsx("div",{className:"text-center py-12",children:"Carregando..."});return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>A("/comissoes-listagem"),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 mb-4",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Voltar para Demonstrativo"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"üìä Relat√≥rios Anal√≠ticos de Comiss√µes"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"An√°lise de rentabilidade, margem e tomada de decis√£o estrat√©gica"})]}),O(),H(),E?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"})}):e.jsxs(e.Fragment,{children:[i==="margem-produto"&&W(),i==="produtos-prejudiciais"&&Q(),i==="ranking-funcionarios"&&G(),i==="ranking-produtos"&&U(),i==="ranking-categorias"&&X(),i==="dre"&&Y()]})]})};export{le as default};
