import{p as E,a as F,r as i,j as e}from"./vendor-react-1771891349838.js";import{a as o}from"./index-1771891349838.js";import{w as P,Z as p,P as m,a5 as S,a7 as z,B as D,a8 as A,U as I,a9 as M,O as R,aa as N,ab as v}from"./vendor-icons-1771891349838.js";import{f as y}from"./idadeHelper-1771891349838.js";import"./vendor-utils-1771891349838.js";const O=()=>{const{petId:x}=E(),d=F(),[s,f]=i.useState(null),[w,b]=i.useState(!0),[g,h]=i.useState(""),[r,k]=i.useState("geral");i.useEffect(()=>{j()},[x]);const j=async()=>{try{b(!0);const a=await o.get(`/pets/${x}`);f(a.data),h("")}catch(a){console.error("Erro ao carregar pet:",a),h("Erro ao carregar informações do pet")}finally{b(!1)}},C=a=>{if(!a)return null;const c=new Date,u=new Date(a),l=c.getFullYear()-u.getFullYear(),t=c.getMonth()-u.getMonth();return l===0?`${t} ${t===1?"mês":"meses"}`:t<0?`${l-1} anos e ${12+t} meses`:t===0?`${l} ${l===1?"ano":"anos"}`:`${l} anos e ${t} ${t===1?"mês":"meses"}`},n=a=>a?new Date(a).toLocaleDateString("pt-BR"):"-",_=async()=>{try{s.ativo?await o.delete(`/pets/${s.id}?soft_delete=true`):await o.post(`/pets/${s.id}/ativar`),j()}catch(a){console.error("Erro ao alterar status do pet:",a),alert("Erro ao alterar status do pet")}};if(w)return e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando..."})]})});if(g||!s)return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2",children:[e.jsx(P,{}),g||"Pet não encontrado"]}),e.jsxs("button",{onClick:()=>d("/pets"),className:"mt-4 flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[e.jsx(p,{}),"Voltar para lista de pets"]})]});const $=[{id:"geral",label:"Dados Gerais",icon:M},{id:"saude",label:"Saúde",icon:R},{id:"vacinas",label:"Vacinas",icon:N},{id:"consultas",label:"Consultas",icon:v},{id:"servicos",label:"Serviços",icon:m}];return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>d("/pets"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(p,{}),"Voltar para Gerenciamento de Pets"]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[s.foto_url?e.jsx("img",{src:s.foto_url,alt:s.nome,className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-100 flex items-center justify-center border-4 border-gray-200",children:e.jsx(m,{className:"text-blue-600",size:48})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.nome}),s.ativo?e.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium flex items-center gap-1",children:[e.jsx(S,{size:14}),"Ativo"]}):e.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-medium flex items-center gap-1",children:[e.jsx(z,{size:14}),"Inativo"]})]}),e.jsxs("p",{className:"text-gray-500 mb-1",children:[s.especie," ",s.raca&&`• ${s.raca}`," ",s.sexo&&`• ${s.sexo}`]}),e.jsx("p",{className:"text-sm text-gray-400",children:s.codigo}),e.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx(D,{size:16}),e.jsx("span",{className:"font-medium",children:"Tutor:"}),e.jsx("span",{className:"text-blue-600",children:s.cliente_nome})]}),s.cliente_celular&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx(A,{size:16}),e.jsx("span",{children:s.cliente_celular})]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>d(`/pets/${s.id}/editar`),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:[e.jsx(I,{}),"Editar"]}),e.jsx("button",{onClick:_,className:`px-4 py-2 border-2 rounded-lg transition-colors font-medium ${s.ativo?"border-red-300 text-red-600 hover:bg-red-50":"border-green-300 text-green-600 hover:bg-green-50"}`,children:s.ativo?"Desativar":"Reativar"})]})]})})]}),e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsx("div",{className:"flex gap-4",children:$.map(a=>{const c=a.icon;return e.jsxs("button",{onClick:()=>k(a.id),className:`flex items-center gap-2 px-4 py-3 font-medium border-b-2 transition-colors ${r===a.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[e.jsx(c,{size:18}),a.label]},a.id)})})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r==="geral"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Informações Gerais"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),e.jsx("p",{className:"text-gray-900 font-medium",children:s.nome})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código"}),e.jsx("p",{className:"text-gray-900 font-mono text-sm",children:s.codigo})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Espécie"}),e.jsx("p",{className:"text-gray-900",children:s.especie})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Raça"}),e.jsx("p",{className:"text-gray-900",children:s.raca||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sexo"}),e.jsx("p",{className:"text-gray-900",children:s.sexo||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Castrado"}),e.jsx("p",{className:"text-gray-900",children:s.castrado?"Sim":"Não"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Nascimento"}),e.jsx("p",{className:"text-gray-900",children:n(s.data_nascimento)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Idade"}),e.jsx("p",{className:"text-gray-900",children:s.idade_meses?y(s.idade_meses):s.idade_aproximada?y(s.idade_aproximada):s.data_nascimento?C(s.data_nascimento):"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Peso"}),e.jsx("p",{className:"text-gray-900",children:s.peso?`${s.peso} kg`:"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Porte"}),e.jsx("p",{className:"text-gray-900",children:s.porte||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor/Pelagem"}),e.jsx("p",{className:"text-gray-900",children:s.cor||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Microchip"}),e.jsx("p",{className:"text-gray-900 font-mono text-sm",children:s.microchip||"-"})]})]}),s.observacoes&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),e.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:s.observacoes})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 text-sm text-gray-500",children:[e.jsxs("p",{children:["Cadastrado em: ",n(s.created_at)]}),e.jsxs("p",{children:["Última atualização: ",n(s.updated_at)]})]})]}),r==="saude"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Informações de Saúde"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alergias"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-900",children:s.alergias||"Nenhuma alergia registrada"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doenças Crônicas"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-900",children:s.doencas_cronicas||"Nenhuma doença crônica registrada"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medicamentos Contínuos"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-900",children:s.medicamentos_continuos||"Nenhum medicamento contínuo registrado"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Histórico Clínico"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-900 whitespace-pre-line",children:s.historico_clinico||"Nenhum histórico clínico registrado"})})]})]})]}),r==="vacinas"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Carteira de Vacinação"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:"+ Registrar Vacina"})]}),e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(N,{size:48,className:"mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Módulo em desenvolvimento"}),e.jsx("p",{className:"text-sm",children:"Em breve você poderá gerenciar o histórico de vacinas do pet"})]})]}),r==="consultas"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Histórico de Consultas"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:"+ Nova Consulta"})]}),e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(v,{size:48,className:"mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Módulo em desenvolvimento"}),e.jsx("p",{className:"text-sm",children:"Em breve você poderá gerenciar consultas veterinárias"})]})]}),r==="servicos"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Histórico de Serviços"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:"+ Registrar Serviço"})]}),e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(m,{size:48,className:"mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Módulo em desenvolvimento"}),e.jsx("p",{className:"text-sm",children:"Em breve você poderá gerenciar banho, tosa e outros serviços"})]})]})]})]})};export{O as default};
