import{r as s,j as e,E as x,bH as g,a4 as f,ag as h,z as i}from"./vendor-react-1772318111102.js";import{a as d}from"./api-1772318111102.js";import"./index-1772318111102.js";function j(){const[c,m]=s.useState(!0),[l,n]=s.useState(!1),[a,r]=s.useState(!1);s.useEffect(()=>{async function t(){try{const o=await d.get("/empresa/config-estoque");r(o.data.permite_estoque_negativo)}catch(o){console.error("Erro ao carregar configura√ß√µes de estoque",o),i.error("Erro ao carregar configura√ß√µes")}finally{m(!1)}}t()},[]);async function u(){n(!0);try{await d.put("/empresa/config-estoque",{permite_estoque_negativo:a}),i.success("Configura√ß√µes de estoque atualizadas com sucesso!")}catch(t){console.error("Erro ao salvar configura√ß√µes",t),i.error("Erro ao salvar configura√ß√µes")}finally{n(!1)}}return c?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando configura√ß√µes..."})]})}):e.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(x,{to:"/configuracoes",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[e.jsx(g,{className:"mr-1"}),"Voltar para Configura√ß√µes"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Configura√ß√µes de Estoque"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Configure o comportamento do controle de estoque do sistema"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Controle de Estoque Negativo"}),e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(f,{className:"text-yellow-600 mt-1 mr-3 flex-shrink-0"}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Aten√ß√£o:"})," Esta configura√ß√£o afeta diretamente o controle de vendas e estoque."]})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"estoque-negativo",checked:!a,onChange:()=>r(!1),className:"mt-1 mr-3 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"üîí Bloquear vendas sem estoque (Recomendado)"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"O sistema impedir√° finalizar vendas quando n√£o houver estoque suficiente. Ideal para controle rigoroso de estoque."})]})]}),e.jsxs("label",{className:"flex items-start p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"estoque-negativo",checked:a,onChange:()=>r(!0),className:"mt-1 mr-3 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"‚úÖ Permitir estoque negativo"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"O sistema permitir√° vendas mesmo sem estoque dispon√≠vel. √ötil para neg√≥cios que trabalham com encomendas ou reposi√ß√£o r√°pida."}),e.jsx("div",{className:"text-xs text-red-600 mt-2 font-medium",children:"‚ö†Ô∏è Use com cuidado: pode gerar descontinuidade no controle de estoque"})]})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t",children:e.jsxs("button",{onClick:u,disabled:l,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:[e.jsx(h,{className:"mr-2"}),l?"Salvando...":"Salvar Configura√ß√µes"]})})]}),e.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"üí° Como funciona?"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Estoque Bloqueado:"})," Ao tentar vender um produto sem estoque, o sistema exibir√° um erro e impedir√° a finaliza√ß√£o da venda."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Estoque Negativo:"})," O sistema permite a venda e o estoque ficar√° com valor negativo at√© a pr√≥xima reposi√ß√£o."]}),e.jsx("li",{children:"Esta configura√ß√£o √© global e afeta todas as vendas realizadas no PDV e outros pontos de venda."})]})]})]})}export{j as default};
