import{u as Ta,ah as Ia,r as l,j as a}from"./vendor-react-1772138187586.js";import{b as Fa}from"./index-1772138187586.js";const S=Fa.create({baseURL:"",timeout:15e3,headers:{"Content-Type":"application/json"}}),$="ecommerce_customer_token",he="ecommerce_customer_orders",ve="ecommerce_customer_address",Se="ecommerce_guest_cart",ta="ecommerce_wishlist_products",da="ecommerce_notify_requests",sa="/api",q={pedido_id:null,itens:[],subtotal:0,total:0},re={cep:"",endereco:"",numero:"",complemento:"",bairro:"",cidade:"",estado:""};function _(n){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(n||0))}function la(n){if(!n)return"-";const d=new Date(n);return Number.isNaN(d.getTime())?"-":new Intl.DateTimeFormat("pt-BR",{dateStyle:"short",timeStyle:"short"}).format(d)}function me(n){return Number((n==null?void 0:n.preco_venda)??(n==null?void 0:n.preco)??(n==null?void 0:n.preco_promocional)??0)}function J(n){const d=Number(n==null?void 0:n.estoque_ecommerce),c=Number(n==null?void 0:n.estoque_atual);return Number.isFinite(d)&&d>0?d:Number.isFinite(c)?c:Number.isFinite(d)?d:Number.POSITIVE_INFINITY}function ca(n){const d=J(n);return Number.isFinite(d)&&d<=0}async function ye(n){const d=String(n||"").replace(/\D+/g,"");if(d.length!==8)return null;try{const c=await fetch(`https://viacep.com.br/ws/${d}/json/`);if(!c.ok)return null;const g=await c.json();return g!=null&&g.erro?null:{cep:d,endereco:(g==null?void 0:g.logradouro)||"",bairro:(g==null?void 0:g.bairro)||"",cidade:(g==null?void 0:g.localidade)||"",estado:(g==null?void 0:g.uf)||""}}catch{return null}}function Pa(){var n;return(n=window==null?void 0:window.crypto)!=null&&n.randomUUID?window.crypto.randomUUID():`checkout-${Date.now()}-${Math.random().toString(16).slice(2)}`}function be(n){if(!n||typeof n!="string")return"";if(/^https?:\/\//i.test(n))return n;const d=n.startsWith("/")?n:`/${n}`;return/^https?:\/\//i.test(sa)?`${sa.replace(/\/api\/?$/,"").replace(/\/$/,"")}${d}`:`${window.location.origin}${d}`}function Ba(n){return Array.isArray(n)?n:Array.isArray(n==null?void 0:n.items)?n.items:Array.isArray(n==null?void 0:n.itens)?n.itens:Array.isArray(n==null?void 0:n.produtos)?n.produtos:[]}function xe(){try{const n=localStorage.getItem(Se);if(!n)return{...q};const d=JSON.parse(n);if(!Array.isArray(d==null?void 0:d.itens))return{...q};const c=Number((d==null?void 0:d.subtotal)||0),g=Number((d==null?void 0:d.total)||0);return{pedido_id:null,itens:d.itens,subtotal:c,total:g}}catch{return{...q}}}function je(n){const d=n.reduce((c,g)=>c+Number(g.preco_unitario||0)*Number(g.quantidade||0),0);return{pedido_id:null,itens:n,subtotal:d,total:d}}function La(){try{const n=localStorage.getItem(ve);if(!n)return{...re};const d=JSON.parse(n);return typeof d=="object"&&d!==null?{...re,...d}:{...re,endereco:String(n||"")}}catch{const n=localStorage.getItem(ve)||"";return{...re,endereco:n}}}function Oa(n){const d=[n.endereco,n.numero].filter(Boolean).join(", "),c=n.bairro?`Bairro: ${n.bairro}`:"",g=[n.cidade,n.estado].filter(Boolean).join("/"),E=n.cep?`CEP: ${n.cep}`:"",y=n.complemento?`Compl.: ${n.complemento}`:"";return[d,c,g,E,y].filter(Boolean).join(" | ")}function D(n){const d=[];return n!=null&&n.imagem_principal&&d.push(be(n.imagem_principal)),Array.isArray(n==null?void 0:n.imagens)&&n.imagens.forEach(c=>{typeof c=="string"&&c.trim()?d.push(be(c.trim())):c!=null&&c.url&&typeof c.url=="string"&&d.push(be(c.url.trim()))}),Array.from(new Set(d.filter(Boolean)))}function qa(n){const d=String(n||"");return d?d.includes("??")||d.includes("ÔøΩ")||/\?{2,}/.test(d):!1}function Wa(n){return String(n||"").split("-").filter(Boolean).map(d=>d.charAt(0).toUpperCase()+d.slice(1)).join(" ")}function R(n,d){var E;const c=(E=n==null?void 0:n.response)==null?void 0:E.data,g=c==null?void 0:c.detail;if(typeof g=="string"&&g.trim())return g;if(Array.isArray(g)&&g.length>0){const y=g[0];if(typeof y=="string"&&y.trim())return y;if(typeof(y==null?void 0:y.msg)=="string"&&y.msg.trim())return y.msg}if(Array.isArray(c==null?void 0:c.details)&&c.details.length>0){const y=c.details[0];if(typeof y=="string"&&y.trim())return y;if(typeof(y==null?void 0:y.msg)=="string"&&y.msg.trim())return y.msg}return typeof(c==null?void 0:c.message)=="string"&&c.message.trim()?c.message:d}function $a(){var aa,ra,oa,na,ia;const n=Ta(),d=Ia(),[c,g]=l.useState("loja"),[E,y]=l.useState(!1),[K,oe]=l.useState([]),[Y,ga]=l.useState(""),[G,ua]=l.useState("todas"),[m,ne]=l.useState(null),[_e,pa]=l.useState(!1),[Ce,fa]=l.useState(!1),[Re,V]=l.useState(!1),[ke,we]=l.useState(!1),[ha,Ne]=l.useState(!1),[j,H]=l.useState(localStorage.getItem($)||""),[o,F]=l.useState(null),[Ae,ze]=l.useState(!1),[f,b]=l.useState({nome:"",telefone:"",cpf:"",cep:"",endereco:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",endereco_entrega:"",usar_endereco_entrega_diferente:!1,entrega_nome:"",entrega_cep:"",entrega_endereco:"",entrega_numero:"",entrega_complemento:"",entrega_bairro:"",entrega_cidade:"",entrega_estado:""}),[W,Q]=l.useState({email:"",password:"",nome:""}),[X,ie]=l.useState({email:"",password:""}),[h,N]=l.useState(()=>xe()),[te,Ee]=l.useState(""),[A,de]=l.useState(null),[P,Te]=l.useState(""),[T,Ie]=l.useState("entrega"),[Z,Fe]=l.useState("proprio"),[C,z]=l.useState(()=>La()),[k,ee]=l.useState(null),[B,se]=l.useState(null),[le,Pe]=l.useState(""),[Be,Le]=l.useState(()=>{try{return JSON.parse(localStorage.getItem(he)||"[]")}catch{return[]}}),[Oe,qe]=l.useState([]),[ce,We]=l.useState(!1),[M,ma]=l.useState(()=>{try{return JSON.parse(localStorage.getItem(ta)||"[]")}catch{return[]}}),[ge,ya]=l.useState(()=>{try{return JSON.parse(localStorage.getItem(da)||"[]")}catch{return[]}}),[Me,u]=l.useState(""),[Ue,v]=l.useState(""),[i,ue]=l.useState(null),ae=l.useMemo(()=>{const r=String((o==null?void 0:o.nome)||"").trim().includes(" "),t=String((o==null?void 0:o.telefone)||"").trim().length>=8,s=String((o==null?void 0:o.cpf)||"").replace(/\D+/g,"").length>=11,p=String((o==null?void 0:o.endereco)||"").trim().length>3;return r&&t&&s&&p},[o]),I=l.useMemo(()=>new URLSearchParams(n.search).get("tenant")||d.tenantId||"",[n.search,d.tenantId]),$e=l.useMemo(()=>i!=null&&i.id?{"X-Tenant-ID":i.id}:{},[i==null?void 0:i.id]),w=l.useMemo(()=>j?{Authorization:`Bearer ${j}`}:{},[j]),ba=l.useMemo(()=>{const e=K.map(r=>(r==null?void 0:r.categoria_nome)||(r==null?void 0:r.categoria)||"Sem categoria").filter(Boolean);return["todas",...Array.from(new Set(e))]},[K]),De=l.useMemo(()=>{const e=Y.trim().toLowerCase();return K.filter(r=>{const t=String((r==null?void 0:r.nome)||"").toLowerCase(),s=(r==null?void 0:r.categoria_nome)||(r==null?void 0:r.categoria)||"Sem categoria";return(!e||t.includes(e))&&(G==="todas"||s===G)})},[K,Y,G]),U=(i==null?void 0:i.ecommerce_slug)||I||"",Je=(o==null?void 0:o.nome)||(o==null?void 0:o.email)||"",xa=l.useMemo(()=>{const e=(i==null?void 0:i.name)||"";return e&&!qa(e)?e:U?Wa(U):"Loja online"},[i==null?void 0:i.name,U]);l.useEffect(()=>{if(!I){oe([]),ue(null),u("Loja n√£o informada na URL. Use /slug-da-loja.");return}ja(),Ke()},[I]),l.useEffect(()=>{j&&(va(),Ye())},[j]),l.useEffect(()=>{i!=null&&i.cidade&&!P&&Te(i.cidade)},[i==null?void 0:i.cidade,P]),l.useEffect(()=>{j||localStorage.setItem(Se,JSON.stringify(h||q))},[h,j]),l.useEffect(()=>{localStorage.setItem(ta,JSON.stringify(M))},[M]),l.useEffect(()=>{localStorage.setItem(da,JSON.stringify(ge))},[ge]),l.useEffect(()=>{if(!o)return;const e=(o==null?void 0:o.endereco_entrega_detalhado)||{};b({nome:(o==null?void 0:o.nome)||"",telefone:(o==null?void 0:o.telefone)||"",cpf:(o==null?void 0:o.cpf)||"",cep:(o==null?void 0:o.cep)||"",endereco:(o==null?void 0:o.endereco)||"",numero:(o==null?void 0:o.numero)||"",complemento:(o==null?void 0:o.complemento)||"",bairro:(o==null?void 0:o.bairro)||"",cidade:(o==null?void 0:o.cidade)||"",estado:(o==null?void 0:o.estado)||"",endereco_entrega:(o==null?void 0:o.endereco_entrega)||"",usar_endereco_entrega_diferente:!!(o!=null&&o.usar_endereco_entrega_diferente),entrega_nome:(e==null?void 0:e.entrega_nome)||"",entrega_cep:(e==null?void 0:e.entrega_cep)||"",entrega_endereco:(e==null?void 0:e.entrega_endereco)||"",entrega_numero:(e==null?void 0:e.entrega_numero)||"",entrega_complemento:(e==null?void 0:e.entrega_complemento)||"",entrega_bairro:(e==null?void 0:e.entrega_bairro)||"",entrega_cidade:(e==null?void 0:e.entrega_cidade)||"",entrega_estado:(e==null?void 0:e.entrega_estado)||""})},[o]),l.useEffect(()=>{if(!o)return;const e=(o==null?void 0:o.endereco_entrega_detalhado)||{},r=!!(o!=null&&o.usar_endereco_entrega_diferente);z({cep:r?(e==null?void 0:e.entrega_cep)||(o==null?void 0:o.cep)||"":(o==null?void 0:o.cep)||"",endereco:r?(e==null?void 0:e.entrega_endereco)||(o==null?void 0:o.endereco)||"":(o==null?void 0:o.endereco)||"",numero:r?(e==null?void 0:e.entrega_numero)||(o==null?void 0:o.numero)||"":(o==null?void 0:o.numero)||"",complemento:r?(e==null?void 0:e.entrega_complemento)||(o==null?void 0:o.complemento)||"":(o==null?void 0:o.complemento)||"",bairro:r?(e==null?void 0:e.entrega_bairro)||(o==null?void 0:o.bairro)||"":(o==null?void 0:o.bairro)||"",cidade:r?(e==null?void 0:e.entrega_cidade)||(o==null?void 0:o.cidade)||"":(o==null?void 0:o.cidade)||"",estado:r?(e==null?void 0:e.entrega_estado)||(o==null?void 0:o.estado)||"":(o==null?void 0:o.estado)||""})},[o]);async function ja(){try{const e=await S.get("/api/ecommerce/tenant-context",{params:{tenant:I}});ue((e==null?void 0:e.data)||null)}catch(e){ue(null),u(R(e,"Loja inv√°lida para e-commerce"))}}async function Ke(){if(I){y(!0),u("");try{const e=await S.get("/api/ecommerce/produtos",{params:{tenant:I,limit:100,busca:Y||void 0}});oe(Ba(e==null?void 0:e.data))}catch(e){oe([]),u(R(e,"Erro ao carregar produtos vend√°veis"))}finally{y(!1)}}}async function va(){if(j)try{const e=await S.get("/api/ecommerce/auth/perfil",{headers:w});F(e.data)}catch{F(null),H(""),localStorage.removeItem($),N(xe())}}async function Sa(e){if(e.preventDefault(),!j){u("Fa√ßa login para atualizar seus dados.");return}const r=String(f.nome||"").trim();if(!r||!r.includes(" ")){u("Informe nome completo (nome e sobrenome).");return}if(f.usar_endereco_entrega_diferente&&![f.entrega_nome,f.entrega_endereco,f.entrega_numero,f.entrega_bairro,f.entrega_cidade,f.entrega_estado].every(s=>String(s||"").trim())){u("Preencha o endere√ßo de entrega completo para continuar.");return}ze(!0),u(""),v("");try{const t=await S.put("/api/ecommerce/auth/perfil",f,{headers:w});F(t.data),v("Dados cadastrais atualizados com sucesso.")}catch(t){u(R(t,"Erro ao salvar dados cadastrais"))}finally{ze(!1)}}async function _a(){const e=await ye(f.cep);e&&b(r=>({...r,cep:e.cep||r.cep,endereco:e.endereco||r.endereco,bairro:e.bairro||r.bairro,cidade:e.cidade||r.cidade,estado:e.estado||r.estado}))}async function Ca(){const e=await ye(f.entrega_cep);e&&b(r=>({...r,entrega_cep:e.cep||r.entrega_cep,entrega_endereco:e.endereco||r.entrega_endereco,entrega_bairro:e.bairro||r.entrega_bairro,entrega_cidade:e.cidade||r.entrega_cidade,entrega_estado:e.estado||r.entrega_estado}))}async function Ra(){const e=await ye(C.cep);e&&z(r=>({...r,cep:e.cep||r.cep,endereco:e.endereco||r.endereco,bairro:e.bairro||r.bairro,cidade:e.cidade||r.cidade,estado:e.estado||r.estado}))}async function Ye(e=w){if(e!=null&&e.Authorization){Ne(!0);try{const r=await S.get("/api/carrinho",{headers:e});N(r.data||{...q})}catch(r){u(R(r,"Erro ao carregar carrinho"))}finally{Ne(!1)}}}async function Ge(e){var s;const r=xe();if(!((s=r==null?void 0:r.itens)!=null&&s.length))return;const t={Authorization:`Bearer ${e}`};for(const p of r.itens)await S.post("/api/carrinho/adicionar",{produto_id:p.produto_id,quantidade:p.quantidade},{headers:t});await Ye(t),localStorage.removeItem(Se)}async function ka(e){var r,t;if(e.preventDefault(),!(i!=null&&i.id)){u("Loja n√£o identificada na URL.");return}V(!0),u(""),v("");try{const s=await S.post("/api/ecommerce/auth/registrar",W,{headers:$e}),p=(r=s==null?void 0:s.data)==null?void 0:r.access_token;if(!p)throw new Error("Token n√£o retornado");(t=s==null?void 0:s.data)!=null&&t.user&&F(s.data.user),localStorage.setItem($,p),H(p),await Ge(p),Q({email:"",password:"",nome:""}),v("Cadastro realizado com sucesso. Complete seus dados na aba Conta."),g("conta")}catch(s){u(R(s,"Erro ao cadastrar cliente"))}finally{V(!1)}}async function wa(e){var r,t;if(e.preventDefault(),!(i!=null&&i.id)){u("Loja n√£o identificada na URL.");return}V(!0),u(""),v("");try{const s=await S.post("/api/ecommerce/auth/login",X,{headers:$e}),p=(r=s==null?void 0:s.data)==null?void 0:r.access_token;if(!p)throw new Error("Token n√£o retornado");(t=s==null?void 0:s.data)!=null&&t.user&&F(s.data.user),localStorage.setItem($,p),H(p),await Ge(p),ie({email:"",password:""}),v("Login realizado com sucesso. Confira seus dados cadastrais."),g("conta")}catch(s){u(R(s,"Erro ao realizar login"))}finally{V(!1)}}function Na(){F(null),H(""),N({...q}),ee(null),se(null),localStorage.removeItem($),v("Sess√£o encerrada.")}function Ve(e){ma(r=>r.includes(e)?(v("Produto removido da sua lista de desejos."),r.filter(t=>t!==e)):(v("Produto adicionado √† sua lista de desejos."),[...r,e]))}function He(e){const r=(o==null?void 0:o.email)||W.email||X.email||"",t=window.prompt("Digite seu email para avisarmos quando chegar em estoque:",r);if(!t)return;const s={productId:e.id,productName:e.nome,email:t.trim(),tenant:U||I,createdAt:new Date().toISOString()};ya(p=>p.some(L=>L.productId===s.productId&&String(L.email||"").toLowerCase()===s.email.toLowerCase())?p:[...p,s]),v("Aviso registrado. Quando chegar estoque, voc√™ ser√° notificado por email.")}async function Qe(e){if(J(e)<=0){u("Produto indispon√≠vel no momento. Volto em breve.");return}if(!j){u("");const t=me(e);N(s=>{const p=Array.isArray(s==null?void 0:s.itens)?s.itens:[],L=p.find(O=>O.produto_id===e.id)?p.map(O=>O.produto_id===e.id?{...O,quantidade:Number(O.quantidade||0)+1}:O):[...p,{item_id:`guest-${e.id}`,produto_id:e.id,nome:e.nome,preco_unitario:t,quantidade:1}];return je(L)}),v("Produto adicionado ao carrinho. Fa√ßa login no checkout para finalizar.");return}u("");try{const t=await S.post("/api/carrinho/adicionar",{produto_id:e.id,quantidade:1},{headers:w});N(t.data),v("Produto adicionado ao carrinho.")}catch(t){u(R(t,"Erro ao adicionar no carrinho"))}}async function pe(e,r){if(!j){N(t=>{const s=Array.isArray(t==null?void 0:t.itens)?t.itens:[];if(r<=0){const x=s.filter(L=>L.item_id!==e);return je(x)}const p=s.map(x=>x.item_id===e?{...x,quantidade:r}:x);return je(p)});return}u("");try{if(r<=0){const s=await S.delete(`/api/carrinho/remover/${e}`,{headers:w});N(s.data);return}const t=await S.put(`/api/carrinho/atualizar/${e}`,{quantidade:r},{headers:w});N(t.data)}catch(t){u(R(t,"Erro ao atualizar carrinho"))}}async function Aa(e){if(e.preventDefault(),!j){u("Fa√ßa login para aplicar cupom."),g("conta");return}if(te.trim()){u("");try{const r=await S.post("/api/carrinho/aplicar-cupom",{codigo:te.trim()},{headers:w});de(r.data),v("Cupom validado.")}catch(r){de(null),u(R(r,"Cupom inv√°lido"))}}}async function za(e){var t;if(e.preventDefault(),!j){u("Fa√ßa login para continuar no checkout."),g("conta");return}if(!((t=h==null?void 0:h.itens)!=null&&t.length)){u("Adicione itens no carrinho antes de calcular o checkout.");return}const r=((i==null?void 0:i.cidade)||P||C.cidade||"").trim();if(!r||r.length<2){u("Cidade da loja n√£o configurada para checkout.");return}u(""),ee(null);try{const s=await S.get("/api/checkout/resumo",{headers:w,params:{cidade_destino:r,cupom:(A==null?void 0:A.codigo)||void 0}});ee(s.data),v("Resumo de checkout calculado.")}catch(s){u(R(s,"Erro ao calcular resumo do checkout"))}}async function Ea(){if(!j){u("Fa√ßa login para finalizar o pedido."),g("conta");return}if(!ae){u("Complete seu cadastro antes de finalizar o pedido."),g("conta");return}const e=((i==null?void 0:i.cidade)||P||C.cidade||"").trim();if(!e||e.length<2){u("Cidade da loja n√£o configurada para checkout.");return}const r=T==="retirada"?"RETIRADA NA LOJA":Oa(C);if(T==="entrega"&&!r){u("Informe o endere√ßo de entrega.");return}we(!0),u(""),v(""),se(null);try{const s=(await S.post("/api/checkout/finalizar",{cidade_destino:e,endereco_entrega:r||null,cupom:(A==null?void 0:A.codigo)||null,tipo_retirada:T==="retirada"?Z:null},{headers:{...w,"Idempotency-Key":Pa()}})).data;if(se(s),N({pedido_id:null,itens:[],subtotal:0,total:0}),ee(null),de(null),Ee(""),T==="entrega"&&localStorage.setItem(ve,JSON.stringify(C)),s!=null&&s.pedido_id){const p=Array.from(new Set([s.pedido_id,...Be]));Le(p),localStorage.setItem(he,JSON.stringify(p)),await fe()}v("Pedido finalizado com sucesso."),g("pedidos")}catch(t){u(R(t,"Erro ao finalizar checkout"))}finally{we(!1)}}async function fe(){var e;if(j){We(!0);try{const r=await S.get("/api/checkout/pedidos",{headers:w,params:{limit:20}}),t=Array.isArray((e=r==null?void 0:r.data)==null?void 0:e.pedidos)?r.data.pedidos:[];if(qe(t),t.length){const s=t.map(x=>x==null?void 0:x.pedido_id).filter(Boolean),p=Array.from(new Set([...s,...Be]));Le(p),localStorage.setItem(he,JSON.stringify(p))}}catch(r){qe([]),u(R(r,"Erro ao carregar detalhes dos pedidos"))}finally{We(!1)}}}l.useEffect(()=>{!j||c!=="pedidos"||fe()},[c,j]);const Xe=Number((h==null?void 0:h.total)||0);function Ze(){var e;if(!((e=h==null?void 0:h.itens)!=null&&e.length)){u("Adicione itens no carrinho antes de finalizar.");return}if(!j){u("Fa√ßa login para finalizar o pedido."),g("conta");return}if(!ae){u("Complete seu cadastro (nome completo, telefone, CPF e endere√ßo) antes de finalizar."),g("conta");return}g("checkout")}function ea(e){const r=D(e);ne(e),Pe(r[0]||"")}return a.jsxs("div",{className:"page",children:[a.jsx("div",{style:{background:"linear-gradient(120deg, #1e293b 0%, #0f172a 100%)",color:"#fff",borderRadius:16,padding:18,marginBottom:16,border:"1px solid #1f2937"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,flexWrap:"wrap"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:12,opacity:.8,letterSpacing:.4},children:"LOJA ONLINE"}),a.jsx("h1",{style:{margin:"4px 0 6px",fontSize:28,lineHeight:1.1},children:xa}),a.jsxs("div",{style:{fontSize:13,opacity:.88},children:[(i==null?void 0:i.cidade)||"Cidade n√£o informada",i!=null&&i.uf?` ‚Ä¢ ${i.uf}`:""]})]}),a.jsxs("div",{style:{display:"grid",gap:6,justifyItems:"end"},children:[a.jsx("div",{style:{fontSize:12,opacity:.78},children:"Identificador da loja"}),a.jsx("div",{style:{fontWeight:700,background:"rgba(148,163,184,0.2)",padding:"6px 10px",borderRadius:999},children:U||"-"})]})]})}),(i==null?void 0:i.storefront_path)&&a.jsxs("div",{style:{marginBottom:12,color:"#4b5563",fontSize:13},children:["URL da loja: ",i.storefront_path,Je?` ‚Ä¢ Cliente logado: ${Je}`:""]}),a.jsx("div",{style:{marginBottom:12,background:"#eef2ff",color:"#312e81",border:"1px solid #c7d2fe",borderRadius:10,padding:"10px 12px",fontSize:13},children:"Baixe nosso APP para receber notifica√ß√µes de pedidos, promo√ß√µes e aviso de reposi√ß√£o de estoque."}),!I&&a.jsx("div",{style:{marginBottom:12,color:"#b00020"},children:"Use a URL no formato: /slug-da-loja"}),a.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:16,background:"#fff",border:"1px solid #e5e7eb",borderRadius:12,padding:8},children:[["loja","Loja"],["carrinho","Carrinho"],["pedidos","Meus pedidos"],["conta","Conta"]].map(([e,r])=>{const t=c===e;return a.jsx("button",{onClick:()=>g(e),style:{border:t?"1px solid #6366f1":"1px solid transparent",background:t?"#eef2ff":"transparent",color:t?"#4338ca":"#334155",borderRadius:10,padding:"9px 14px",fontWeight:t?700:600,cursor:"pointer"},children:r},e)})}),Me&&a.jsx("div",{style:{background:"#ffe8e8",color:"#8c0000",padding:10,borderRadius:6,marginBottom:12},children:Me}),Ue&&a.jsx("div",{style:{background:"#e8fff0",color:"#0a7d32",padding:10,borderRadius:6,marginBottom:12},children:Ue}),c==="loja"&&a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1fr) 320px",gap:16},children:[a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:12,border:"1px solid #e5e7eb"},children:[a.jsxs("div",{style:{marginBottom:12},children:[a.jsx("h2",{style:{fontSize:20,marginBottom:4},children:"Cat√°logo da loja"}),a.jsx("div",{style:{color:"#64748b",fontSize:14},children:"Selecione produtos, confira detalhes e adicione ao carrinho."})]}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:14,flexWrap:"wrap"},children:[a.jsx("input",{value:Y,onChange:e=>ga(e.target.value),placeholder:"Buscar produto...",style:{flex:1,minWidth:240,padding:10,border:"1px solid #d1d5db",borderRadius:10}}),a.jsx("select",{value:G,onChange:e=>ua(e.target.value),style:{padding:10,border:"1px solid #d1d5db",borderRadius:10},children:ba.map(e=>a.jsx("option",{value:e,children:e},e))}),a.jsx("button",{className:"btn-secondary",onClick:Ke,disabled:E,children:E?"Carregando...":"Atualizar"})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12},children:[De.map(e=>{const r=J(e),t=ca(e),s=M.includes(e.id),p=D(e)[0];return a.jsxs("div",{role:"button",tabIndex:0,onClick:()=>ea(e),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),ea(e))},style:{border:"1px solid #e5e7eb",borderRadius:12,padding:10,background:"#fff",textAlign:"left",cursor:"pointer",display:"grid",gap:8},children:[a.jsx("div",{style:{borderRadius:10,background:"#f1f5f9",aspectRatio:"1 / 1",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:p?a.jsx("img",{src:p,alt:e.nome,style:{width:"100%",height:"100%",objectFit:"contain",padding:6,background:"#fff"}}):a.jsx("span",{style:{color:"#64748b",fontSize:12},children:"Sem imagem"})}),a.jsxs("div",{style:{minHeight:42},children:[a.jsx("div",{style:{fontSize:14,fontWeight:700,lineHeight:1.25},children:e.nome}),a.jsx("div",{style:{fontSize:12,color:"#64748b",marginTop:4},children:(e==null?void 0:e.categoria_nome)||(e==null?void 0:e.categoria)||"Sem categoria"}),a.jsxs("div",{style:{fontSize:12,color:"#475569",marginTop:2},children:["SKU: ",(e==null?void 0:e.codigo)||"-"]}),a.jsx("div",{style:{fontSize:12,color:t?"#b45309":"#0f766e",marginTop:4},children:t?"Volto em breve":Number.isFinite(r)?`Estoque dispon√≠vel: ${r}`:"Estoque dispon√≠vel"})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsx("strong",{style:{fontSize:16},children:_(me(e))}),a.jsx("button",{className:"btn-primary",disabled:t,style:t?{opacity:.6,cursor:"not-allowed"}:void 0,onClick:x=>{x.stopPropagation(),Qe(e)},children:t?"Indispon√≠vel":"Adicionar"})]}),a.jsxs("div",{style:{display:"flex",gap:6,marginTop:2},children:[a.jsx("button",{className:"btn-secondary",onClick:x=>{x.stopPropagation(),Ve(e.id)},style:{fontSize:12,padding:"6px 8px"},children:s?"Remover desejo":"Lista de desejos"}),t&&a.jsx("button",{className:"btn-secondary",onClick:x=>{x.stopPropagation(),He(e)},style:{fontSize:12,padding:"6px 8px"},children:"Avise-me"})]})]},e.id)}),!E&&De.length===0&&a.jsx("div",{style:{color:"#666",padding:12,display:"grid",gap:10},children:a.jsx("div",{children:"Nenhum produto encontrado para o filtro atual."})})]})]}),a.jsxs("aside",{style:{background:"#fff",padding:16,borderRadius:12,border:"1px solid #e5e7eb",alignSelf:"start",position:"sticky",top:8},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:10},children:"Seu carrinho"}),(aa=h==null?void 0:h.itens)!=null&&aa.length?a.jsxs("div",{style:{display:"grid",gap:8},children:[h.itens.slice(0,6).map(e=>a.jsxs("div",{style:{borderBottom:"1px solid #f1f5f9",paddingBottom:6,marginBottom:4},children:[a.jsx("div",{style:{fontSize:13,fontWeight:600},children:e.nome}),a.jsxs("div",{style:{fontSize:12,color:"#666"},children:[e.quantidade," x ",_(e.preco_unitario)]})]},e.item_id)),h.itens.length>6&&a.jsxs("div",{style:{fontSize:12,color:"#666"},children:["+ ",h.itens.length-6," item(ns)"]}),a.jsxs("div",{style:{marginTop:4,fontWeight:700,fontSize:16},children:["Subtotal: ",_(Xe)]}),a.jsx("button",{className:"btn-primary",onClick:Ze,children:"Finalizar"}),a.jsx("button",{className:"btn-secondary",onClick:()=>g("carrinho"),children:"Editar carrinho"}),!j&&a.jsx("div",{style:{fontSize:12,color:"#666"},children:"Login/cadastro s√≥ ser√° solicitado no fechamento."})]}):a.jsx("div",{style:{color:"#666"},children:"Seu carrinho est√° vazio."})]})]}),m&&a.jsx("div",{role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",padding:16,zIndex:60},onClick:()=>ne(null),children:a.jsxs("div",{style:{background:"#fff",width:"min(980px, 100%)",maxHeight:"90vh",overflowY:"auto",borderRadius:14,border:"1px solid #e5e7eb",padding:16,display:"grid",gridTemplateColumns:"1.1fr 1fr",gap:16},onClick:e=>e.stopPropagation(),children:[a.jsxs("div",{children:[a.jsx("div",{style:{borderRadius:12,background:"#f1f5f9",aspectRatio:"1 / 1",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:le?a.jsx("img",{src:le,alt:m.nome,style:{width:"100%",height:"100%",objectFit:"contain",background:"#fff"}}):a.jsx("span",{style:{color:"#64748b"},children:"Sem imagem dispon√≠vel"})}),D(m).length>1&&a.jsx("div",{style:{display:"flex",gap:8,marginTop:10,overflowX:"auto"},children:D(m).map(e=>a.jsx("button",{onClick:()=>Pe(e),style:{border:le===e?"2px solid #6366f1":"1px solid #d1d5db",borderRadius:8,width:74,height:74,overflow:"hidden",padding:0,background:"#fff",cursor:"pointer"},children:a.jsx("img",{src:e,alt:"Miniatura do produto",style:{width:"100%",height:"100%",objectFit:"contain",background:"#fff"}})},e))})]}),a.jsxs("div",{style:{display:"grid",alignContent:"start",gap:10},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:8},children:[a.jsx("h3",{style:{margin:0,fontSize:24,lineHeight:1.2},children:m.nome}),a.jsx("button",{className:"btn-secondary",onClick:()=>ne(null),children:"Fechar"})]}),a.jsx("div",{style:{fontSize:24,fontWeight:800,color:"#0f172a"},children:_(me(m))}),a.jsxs("div",{style:{color:"#475569"},children:["Categoria: ",a.jsx("strong",{children:(m==null?void 0:m.categoria_nome)||(m==null?void 0:m.categoria)||"Sem categoria"})]}),a.jsxs("div",{style:{color:"#475569"},children:["Estoque dispon√≠vel: ",a.jsx("strong",{children:Number.isFinite(J(m))?J(m):"Dispon√≠vel"})]}),a.jsxs("div",{style:{color:"#475569"},children:["SKU: ",a.jsx("strong",{children:(m==null?void 0:m.codigo)||"-"})]}),D(m).length<=1&&a.jsx("div",{style:{fontSize:13,color:"#64748b"},children:"Este produto ainda n√£o possui galeria com m√∫ltiplas fotos cadastradas."}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[ca(m)?a.jsx("button",{className:"btn-secondary",onClick:()=>He(m),children:"Avise-me quando chegar"}):a.jsx("button",{className:"btn-primary",onClick:()=>Qe(m),children:"Adicionar ao carrinho"}),a.jsx("button",{className:"btn-secondary",onClick:()=>Ve(m.id),children:M.includes(m.id)?"Remover da lista":"Salvar na lista"}),a.jsx("button",{className:"btn-secondary",onClick:()=>g("carrinho"),children:"Ver carrinho"})]})]})]})}),c==="carrinho"&&a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:8},children:[a.jsx("h3",{style:{marginTop:0},children:"Carrinho"}),ha?a.jsx("div",{children:"Carregando carrinho..."}):(ra=h==null?void 0:h.itens)!=null&&ra.length?a.jsxs("div",{style:{display:"grid",gap:8},children:[h.itens.map(e=>a.jsxs("div",{style:{border:"1px solid #eee",borderRadius:6,padding:8},children:[a.jsx("div",{style:{fontWeight:600},children:e.nome}),a.jsx("div",{style:{fontSize:12,color:"#666"},children:_(e.preco_unitario)}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:6},children:[a.jsx("button",{className:"btn-secondary",onClick:()=>pe(e.item_id,e.quantidade-1),children:"-"}),a.jsx("span",{children:e.quantidade}),a.jsx("button",{className:"btn-secondary",onClick:()=>pe(e.item_id,e.quantidade+1),children:"+"}),a.jsx("button",{className:"btn-secondary",onClick:()=>pe(e.item_id,0),children:"Remover"})]})]},e.item_id)),a.jsxs("div",{style:{marginTop:8,fontWeight:700},children:["Total: ",_(Xe)]}),a.jsx("button",{className:"btn-primary",onClick:Ze,children:"Finalizar"})]}):a.jsx("div",{style:{color:"#666"},children:"Carrinho vazio"}),a.jsxs("form",{onSubmit:Aa,style:{marginTop:12,display:"flex",gap:8},children:[a.jsx("input",{value:te,onChange:e=>Ee(e.target.value),placeholder:"Cupom",style:{flex:1,padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("button",{className:"btn-secondary",type:"submit",children:"Aplicar"})]}),A&&a.jsxs("div",{style:{marginTop:8,color:"#0a7d32"},children:["Cupom ",A.codigo,": -",_(A.desconto)]})]}),c==="checkout"&&a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:8,display:"grid",gap:10},children:[a.jsx("h3",{style:{marginTop:0},children:"Checkout"}),a.jsxs("form",{onSubmit:za,style:{display:"grid",gap:8},children:[a.jsxs("div",{style:{display:"grid",gap:6},children:[a.jsx("label",{style:{fontSize:13,color:"#334155"},children:"Forma de recebimento"}),a.jsxs("div",{style:{display:"flex",gap:12},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[a.jsx("input",{type:"radio",name:"deliveryMode",value:"entrega",checked:T==="entrega",onChange:()=>Ie("entrega")}),"Entrega"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[a.jsx("input",{type:"radio",name:"deliveryMode",value:"retirada",checked:T==="retirada",onChange:()=>Ie("retirada")}),"Retirada na loja"]})]}),T==="retirada"&&a.jsxs("div",{style:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:8,padding:12,display:"grid",gap:8},children:[a.jsx("div",{style:{fontWeight:600,fontSize:13,color:"#374151"},children:"Quem vai retirar o pedido?"}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13,cursor:"pointer"},children:[a.jsx("input",{type:"radio",name:"tipoRetirada",value:"proprio",checked:Z==="proprio",onChange:()=>Fe("proprio")}),a.jsx("span",{children:"üôã Eu mesmo(a) vou retirar"})]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13,cursor:"pointer"},children:[a.jsx("input",{type:"radio",name:"tipoRetirada",value:"terceiro",checked:Z==="terceiro",onChange:()=>Fe("terceiro")}),a.jsx("span",{children:"ÔøΩ Outra pessoa vai retirar por mim"})]}),Z==="terceiro"&&a.jsxs("div",{style:{background:"#fff7ed",border:"1px solid #fed7aa",borderRadius:6,padding:10,fontSize:12,color:"#92400e"},children:["‚ÑπÔ∏è Uma ",a.jsx("strong",{children:"senha secreta de retirada"})," ser√° gerada ap√≥s confirmar o pedido. Compartilhe essa senha com a pessoa que vai retirar."]})]})]}),a.jsx("input",{value:(i==null?void 0:i.cidade)||P,onChange:e=>Te(e.target.value),placeholder:"Cidade da loja",disabled:!!(i!=null&&i.cidade),style:{padding:8,border:"1px solid #ddd",borderRadius:6,background:i!=null&&i.cidade?"#f8fafc":"#fff"}}),T==="entrega"&&a.jsxs(a.Fragment,{children:[a.jsx("input",{value:C.cep,onChange:e=>z(r=>({...r,cep:e.target.value})),onBlur:Ra,placeholder:"CEP",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{value:C.endereco,onChange:e=>z(r=>({...r,endereco:e.target.value})),placeholder:"Rua / Avenida",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[a.jsx("input",{value:C.numero,onChange:e=>z(r=>({...r,numero:e.target.value})),placeholder:"N√∫mero",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{value:C.complemento,onChange:e=>z(r=>({...r,complemento:e.target.value})),placeholder:"Complemento",style:{padding:8,border:"1px solid #ddd",borderRadius:6}})]}),a.jsx("input",{value:C.bairro,onChange:e=>z(r=>({...r,bairro:e.target.value})),placeholder:"Bairro",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8},children:[a.jsx("input",{value:C.cidade||(i==null?void 0:i.cidade)||"",onChange:e=>z(r=>({...r,cidade:e.target.value})),placeholder:"Cidade",disabled:!!(i!=null&&i.cidade),style:{padding:8,border:"1px solid #ddd",borderRadius:6,background:i!=null&&i.cidade?"#f8fafc":"#fff"}}),a.jsx("input",{value:C.estado||(i==null?void 0:i.uf)||"",onChange:e=>z(r=>({...r,estado:e.target.value})),placeholder:"UF",style:{padding:8,border:"1px solid #ddd",borderRadius:6}})]})]}),a.jsx("button",{className:"btn-secondary",type:"submit",children:"Calcular resumo"})]}),k&&a.jsxs("div",{style:{background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:8,padding:10},children:[a.jsxs("div",{children:["Itens: ",k.itens_count]}),a.jsxs("div",{children:["Subtotal: ",_(k.subtotal)]}),a.jsxs("div",{children:["Frete: ",_((oa=k==null?void 0:k.frete)==null?void 0:oa.valor_frete)]}),a.jsxs("div",{children:["Desconto: ",_((na=k==null?void 0:k.cupom)==null?void 0:na.desconto)]}),a.jsxs("div",{style:{fontWeight:700},children:["Total: ",_(k.total)]})]}),a.jsx("button",{className:"btn-primary",onClick:Ea,disabled:ke||!(i!=null&&i.cidade||P)||!((ia=h==null?void 0:h.itens)!=null&&ia.length)||!ae,children:ke?"Finalizando...":"Finalizar pedido"}),!ae&&a.jsx("div",{style:{fontSize:12,color:"#b45309"},children:"Complete cadastro (nome completo, telefone, CPF e endere√ßo) na aba Conta para finalizar."}),(B==null?void 0:B.pedido_id)&&a.jsxs("div",{style:{background:"#e8fff0",color:"#0a7d32",padding:10,borderRadius:6,display:"grid",gap:6},children:[a.jsxs("div",{children:["Pedido confirmado: ",a.jsx("strong",{children:B.pedido_id})]}),B.palavra_chave_retirada&&a.jsxs("div",{style:{background:"#fff7ed",border:"2px solid #f97316",borderRadius:8,padding:12,color:"#7c2d12",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:12,fontWeight:600,marginBottom:4},children:"üîë SENHA DE RETIRADA"}),a.jsx("div",{style:{fontSize:22,fontWeight:700,letterSpacing:2,color:"#ea580c"},children:B.palavra_chave_retirada}),a.jsx("div",{style:{fontSize:11,marginTop:6,color:"#92400e"},children:"Compartilhe esta senha com a pessoa que vai retirar o pedido na loja."})]})]})]}),c==="pedidos"&&a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:8},children:[a.jsx("h3",{style:{marginTop:0},children:"Meus pedidos"}),ce?a.jsx("div",{style:{color:"#666"},children:"Carregando pedidos..."}):Oe.length===0?a.jsx("div",{style:{color:"#666"},children:"Nenhum pedido encontrado para esta conta."}):a.jsx("div",{style:{display:"grid",gap:10},children:Oe.map(e=>a.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,display:"grid",gap:8},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:10,flexWrap:"wrap"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:700},children:e.pedido_id}),a.jsxs("div",{style:{fontSize:12,color:"#64748b"},children:["Origem: ",e.origem||"-"]})]}),a.jsx("div",{style:{fontWeight:700},children:_(e.total)})]}),a.jsxs("div",{style:{fontSize:13},children:["Status do pedido: ",a.jsx("strong",{children:e.status||"-"})]}),a.jsxs("div",{style:{fontSize:13},children:["Data da compra: ",a.jsx("strong",{children:la(e.data_compra)})]}),a.jsxs("div",{style:{fontSize:13},children:["Data do pagamento: ",a.jsx("strong",{children:e.data_pagamento?la(e.data_pagamento):"Aguardando pagamento"})]}),e.palavra_chave_retirada&&a.jsxs("div",{style:{background:"#fff7ed",border:"2px solid #f97316",borderRadius:8,padding:12,textAlign:"center"},children:[a.jsx("div",{style:{fontSize:11,fontWeight:600,color:"#7c2d12",marginBottom:4},children:"üîë SENHA DE RETIRADA"}),a.jsx("div",{style:{fontSize:20,fontWeight:700,letterSpacing:2,color:"#ea580c"},children:e.palavra_chave_retirada}),a.jsx("div",{style:{fontSize:11,color:"#92400e",marginTop:4},children:"Apresente esta senha na loja para retirar o pedido"})]}),a.jsxs("div",{style:{fontSize:13,fontWeight:700,marginTop:2},children:["Produtos do pedido (",e.itens_count||0,")"]}),Array.isArray(e.itens)&&e.itens.length>0?a.jsx("div",{style:{display:"grid",gap:6},children:e.itens.map((r,t)=>a.jsxs("div",{style:{border:"1px solid #f1f5f9",borderRadius:6,padding:8},children:[a.jsx("div",{style:{fontSize:13,fontWeight:600},children:r.nome||"Produto"}),a.jsxs("div",{style:{fontSize:12,color:"#475569"},children:[r.quantidade," x ",_(r.preco_unitario)," = ",_(r.subtotal)]})]},`${e.pedido_id}-${r.produto_id||t}`))}):a.jsx("div",{style:{fontSize:12,color:"#666"},children:"Sem itens detalhados para este pedido."})]},e.pedido_id))}),a.jsx("button",{className:"btn-secondary",onClick:fe,style:{marginTop:10},disabled:ce,children:ce?"Atualizando...":"Atualizar pedidos"})]}),c==="conta"&&a.jsx(a.Fragment,{children:j?a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:8,display:"grid",gap:10},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:0},children:"Meus dados cadastrais"}),a.jsx("div",{style:{fontSize:13,color:"#64748b"},children:"Esses dados ficam vinculados √† sua conta e ser√£o usados no pedido e no PDV."}),a.jsxs("form",{onSubmit:Sa,style:{display:"grid",gap:8},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[a.jsx("input",{value:f.nome,onChange:e=>b(r=>({...r,nome:e.target.value})),placeholder:"Nome completo",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{value:(o==null?void 0:o.email)||"",disabled:!0,placeholder:"Email",style:{padding:8,border:"1px solid #ddd",borderRadius:6,background:"#f8fafc"}})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[a.jsx("input",{value:f.telefone,onChange:e=>b(r=>({...r,telefone:e.target.value})),placeholder:"Telefone",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{value:f.cpf,onChange:e=>b(r=>({...r,cpf:e.target.value})),placeholder:"CPF",style:{padding:8,border:"1px solid #ddd",borderRadius:6}})]}),a.jsx("input",{value:f.cep,onChange:e=>b(r=>({...r,cep:e.target.value})),onBlur:_a,placeholder:"CEP",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{value:f.endereco,onChange:e=>b(r=>({...r,endereco:e.target.value})),placeholder:"Endere√ßo",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr",gap:8},children:[a.jsx("input",{value:f.numero,onChange:e=>b(r=>({...r,numero:e.target.value})),placeholder:"N√∫mero",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{value:f.complemento,onChange:e=>b(r=>({...r,complemento:e.target.value})),placeholder:"Complemento",style:{padding:8,border:"1px solid #ddd",borderRadius:6}})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 120px",gap:8},children:[a.jsx("input",{value:f.bairro,onChange:e=>b(r=>({...r,bairro:e.target.value})),placeholder:"Bairro",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{value:f.cidade,onChange:e=>b(r=>({...r,cidade:e.target.value})),placeholder:"Cidade",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{value:f.estado,onChange:e=>b(r=>({...r,estado:e.target.value})),placeholder:"UF",style:{padding:8,border:"1px solid #ddd",borderRadius:6}})]}),a.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>b(e=>({...e,usar_endereco_entrega_diferente:!e.usar_endereco_entrega_diferente})),style:{justifySelf:"start"},children:f.usar_endereco_entrega_diferente?"Remover endere√ßo de entrega diferente":"Usar endere√ßo de entrega diferente"}),f.usar_endereco_entrega_diferente&&a.jsxs("div",{style:{display:"grid",gap:8,border:"1px solid #e5e7eb",borderRadius:8,padding:10,background:"#f8fafc"},children:[a.jsx("div",{style:{fontSize:13,fontWeight:600,color:"#334155"},children:"Endere√ßo de entrega (dados complementares)"}),a.jsx("input",{value:f.entrega_nome,onChange:e=>b(r=>({...r,entrega_nome:e.target.value})),placeholder:"Nome completo para entrega",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{value:f.entrega_cep,onChange:e=>b(r=>({...r,entrega_cep:e.target.value})),onBlur:Ca,placeholder:"CEP",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{value:f.entrega_endereco,onChange:e=>b(r=>({...r,entrega_endereco:e.target.value})),placeholder:"Rua / Avenida",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr",gap:8},children:[a.jsx("input",{value:f.entrega_numero,onChange:e=>b(r=>({...r,entrega_numero:e.target.value})),placeholder:"N√∫mero",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{value:f.entrega_complemento,onChange:e=>b(r=>({...r,entrega_complemento:e.target.value})),placeholder:"Complemento",style:{padding:8,border:"1px solid #ddd",borderRadius:6}})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 120px",gap:8},children:[a.jsx("input",{value:f.entrega_bairro,onChange:e=>b(r=>({...r,entrega_bairro:e.target.value})),placeholder:"Bairro",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{value:f.entrega_cidade,onChange:e=>b(r=>({...r,entrega_cidade:e.target.value})),placeholder:"Cidade",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{value:f.entrega_estado,onChange:e=>b(r=>({...r,entrega_estado:e.target.value})),placeholder:"UF",style:{padding:8,border:"1px solid #ddd",borderRadius:6}})]})]}),a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[a.jsx("button",{className:"btn-primary",type:"submit",disabled:Ae,children:Ae?"Salvando...":"Salvar cadastro"}),a.jsx("button",{className:"btn-secondary",type:"button",onClick:Na,children:"Sair"})]})]}),a.jsxs("div",{style:{fontSize:12,color:"#64748b"},children:["Lista de desejos: ",M.length," item(ns) ‚Ä¢ Avise-me: ",ge.length," solicita√ß√£o(√µes)"]})]}):a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:8},children:[a.jsx("h3",{style:{marginTop:0},children:"Cadastro"}),a.jsxs("form",{onSubmit:ka,autoComplete:"off",style:{display:"grid",gap:8},children:[a.jsx("input",{name:"ecommerce_register_nome",autoComplete:"off",value:W.nome,onChange:e=>Q(r=>({...r,nome:e.target.value})),placeholder:"Nome completo",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("input",{name:"ecommerce_register_email",autoComplete:"off",value:W.email,onChange:e=>Q(r=>({...r,email:e.target.value})),placeholder:"Email",type:"email",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:8},children:[a.jsx("input",{name:"ecommerce_register_password",autoComplete:"new-password",value:W.password,onChange:e=>Q(r=>({...r,password:e.target.value})),placeholder:"Senha",type:_e?"text":"password",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>pa(e=>!e),children:_e?"Ocultar":"üëÅ Mostrar"})]}),a.jsx("button",{className:"btn-primary",type:"submit",disabled:Re,children:"Cadastrar"})]})]}),a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:8},children:[a.jsx("h3",{style:{marginTop:0},children:"Login"}),a.jsxs("form",{onSubmit:wa,autoComplete:"off",style:{display:"grid",gap:8},children:[a.jsx("input",{name:"ecommerce_login_email",autoComplete:"off",value:X.email,onChange:e=>ie(r=>({...r,email:e.target.value})),placeholder:"Email",type:"email",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:8},children:[a.jsx("input",{name:"ecommerce_login_password",autoComplete:"new-password",value:X.password,onChange:e=>ie(r=>({...r,password:e.target.value})),placeholder:"Senha",type:Ce?"text":"password",style:{padding:8,border:"1px solid #ddd",borderRadius:6}}),a.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>fa(e=>!e),children:Ce?"Ocultar":"üëÅ Mostrar"})]}),a.jsx("button",{className:"btn-primary",type:"submit",disabled:Re,children:"Entrar"})]})]})]})})]})}export{$a as default};
